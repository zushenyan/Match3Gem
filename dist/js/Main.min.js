!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.m3g=e()}}(function(){return function e(t,n,a){function r(o,u){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return r(n?n:e)},d,d.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){a(this,e),this._spritePool={},this._tweenPool={},this._game=t}return r(e,[{key:"addTextSprite",value:function(e,t,n,a){var r={font:"32px Arial",fill:"#ffffff",align:"center"},i=this._game.add.text(e,t,a,r);i.anchor.set(.5),this._spritePool[n]=i}},{key:"addSprite",value:function(e,t,n,a){var r=this._game.add.sprite(e,t,n);this._spritePool[a]=r}},{key:"getSprite",value:function(e){return this._spritePool[e]}},{key:"removeSprite",value:function(e){this._spritePool[e].destroy(),delete this._spritePool[e],delete this._tweenPool[e]}},{key:"isTweening",value:function t(){var t=!1;for(var e in this._tweenPool)if(this._tweenPool[e].isRunning){t=!0;break}return t}},{key:"spriteFallFrom",value:function(e,t,n){var a=this._duration(this._spritePool[t],this._spritePool[t].x,e,n);return this._tweenPool[t]=this._game.add.tween(this._spritePool[t]).from({y:e},a,Phaser.Easing.Linear.None,!0)}},{key:"spriteFallTo",value:function(e,t,n){var a=this._duration(this._spritePool[t],this._spritePool[t].x,e,n);return this._tweenPool[t]=this._game.add.tween(this._spritePool[t]).to({y:e},a,Phaser.Easing.Linear.None,!0)}},{key:"spriteSwap",value:function(e,t){var n=this._spritePool[e].x,a=this._spritePool[e].y,r=this._spritePool[t].x,i=this._spritePool[t].y,o=this._game.add.tween(this._spritePool[e]).to({x:r,y:i},250,Phaser.Easing.Linear.None,!0),u=this._game.add.tween(this._spritePool[t]).to({x:n,y:a},250,Phaser.Easing.Linear.None,!0);return this._tweenPool[e]=o,this._tweenPool[t]=u,{source:o,target:u}}},{key:"spriteFadeOut",value:function(e,t){return this._tweenPool[e]=this._game.add.tween(this._spritePool[e]).to({alpha:0},t,Phaser.Easing.Linear.None,!0)}},{key:"_duration",value:function(e,t,n,a){var r=new Phaser.Point(t,n);return Phaser.Point.distance(e,r)/a*1e3}}]),e}();n["default"]=i,t.exports=n["default"]},{}],2:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./GameScene"),o=a(i),u=function s(){r(this,s);var e=new Phaser.Game(256,256,Phaser.AUTO);e.state.add("GameScene",new o["default"](e)),e.state.start("GameScene")};n["default"]=u,t.exports=n["default"]},{"./GameScene":5}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={BOARD_WIDTH:8,BOARD_HEIGHT:8,TILE_SIZE:32};n["default"]=a,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./GameUtils"),u=a(o),s=e("./GameConstants"),l=a(s),d=function(){function e(t,n){r(this,e),this._game=t,this._callback=n,this._capture=!1,this._firstPosition=null}return i(e,[{key:"enableInput",value:function(){this._capture=!0}},{key:"disableInput",value:function(){this._capture=!1}},{key:"listen",value:function(){if(this._capture)if(this._game.input.mousePointer.isDown){var e=u["default"].convertToBoardPosition(this._game.input.x,this._game.input.y,l["default"].TILE_SIZE);null===this._firstPosition&&(this._firstPosition=e),(this._firstPosition.x!==e.x||this._firstPosition.y!==e.y)&&(this._callback(this._firstPosition,e),this._firstPosition=null)}else this._firstPosition=null}}]),e}();n["default"]=d,t.exports=n["default"]},{"./GameConstants":3,"./GameUtils":6}],5:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./m3g/Board"),u=a(o),s=e("./GameConstants"),l=a(s),d=e("./GameUtils"),f=(a(d),e("./GameInput")),c=a(f),h=e("./AnimationManager"),p=a(h),v=e("./TaskManager"),g=a(v),_=function(){function e(t){r(this,e),this.game=t,this.board=new u["default"],this.gameInput=new c["default"](this.game,this._inputCallback.bind(this)),this.animationManager=new p["default"](this.game),this.taskManager=new g["default"],this.soundFall=null,this.soundMatch=null}return i(e,[{key:"preload",value:function(){for(var e=0,t=e+1;e<u["default"].TYPES.length;e++,t++)this.game.load.image("gem"+t,"../media/"+t+".png");this.game.load.audio("sound_fall",["../media/gem_fall.wav","../media/gem_fall.mp3"]),this.game.load.audio("sound_match",["../media/gem_matched.wav","../media/gem_matched.mp3"])}},{key:"create",value:function(){this.soundFall=this.game.add.audio("sound_fall"),this.soundMatch=this.game.add.audio("sound_match"),this.soundFall.volume=.1,this.soundMatch.volume=.1,this._newBoard()}},{key:"update",value:function(){this.animationManager.isTweening()||this.taskManager.runTasks(),this.gameInput.listen()}},{key:"_inputCallback",value:function(e,t){this._swap(e,t)}},{key:"_swap",value:function(e,t){var n=this;this.taskManager.addTask(function(){n.gameInput.disableInput()}),this.taskManager.addTask(function(){var a=n.board.getElementWithXY(e.x,e.y).id,r=n.board.getElementWithXY(t.x,t.y).id,i=n.board.swap(e.x,e.y,t.x,t.y),o=n.board.isNear(e.x,e.y,t.x,t.y);i?(n._validSwap(a,r),n._checkMatched()):!i&&o?n._invalidSwap(a,r):n.taskManager.addTask(function(){n.gameInput.enableInput()})})}},{key:"_validSwap",value:function(e,t){var n=this;this.taskManager.addTask(function(){n.animationManager.spriteSwap(e,t)})}},{key:"_invalidSwap",value:function(e,t){var n=this;this.taskManager.addTask(function(){n.animationManager.spriteSwap(e,t)}),this.taskManager.addTask(function(){n.animationManager.spriteSwap(e,t)}),this.taskManager.addTask(function(){n.gameInput.enableInput()})}},{key:"_checkMatched",value:function(){var e=this;this.taskManager.addTask(function(){var t=e.board.findMatchedAll(),n=e.board.findPossibleMatch();t.length>0?(e._clearMatchedGems(t),e._makeGemsFall(),e._addGems(),e.taskManager.addTask(function(){e._checkMatched()})):n.length>0?e.taskManager.addTask(function(){e.gameInput.enableInput()}):(e._renewBoardAnimations(),e._newBoard())})}},{key:"_clearMatchedGems",value:function(e){var t=this;this.taskManager.addTask(function(){e.forEach(function(e){t.animationManager.spriteFadeOut(e.element.id,250)})}),this.taskManager.addTask(function(){t.board.clearMatched(e)}),this.taskManager.addTask(function(){e.forEach(function(e){t.animationManager.removeSprite(e.element.id)})}),this.taskManager.addTask(function(){t.soundMatch.play()})}},{key:"_makeGemsFall",value:function(){var e=this,t=void 0;this.taskManager.addTask(function(){t=e.board.triggerGravity()}),this.taskManager.addTask(function(){t.forEach(function(t){var n=t.toY*l["default"].TILE_SIZE;e.animationManager.spriteFallTo(n,t.element.id,225)})}),this.taskManager.addTask(function(){e.soundFall.play()})}},{key:"_addGems",value:function(){var e=this,t=void 0;this.taskManager.addTask(function(){t=e.board.fillEmpty()}),this.taskManager.addTask(function(){t.forEach(function(t){e._createGem(t.x,t.y,t.element.type,t.element.id)})}),this.taskManager.addTask(function(){e.soundFall.play()})}},{key:"_renewBoardAnimations",value:function(){var e=this;this.taskManager.addTask(function(){e.animationManager.addTextSprite(e.game.world.centerX,e.game.world.centerY,"renew_board","No\nMore\nMove"),e.animationManager.spriteFallFrom(-100,"renew_board",100)}),this.taskManager.addTask(function(){for(var t=e.board.getBoard(),n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)e.animationManager.spriteFadeOut(t[n][a].id,2500);e.animationManager.spriteFadeOut("renew_board",2500)}),this.taskManager.addTask(function(){for(var t=e.board.getBoard(),n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)e.animationManager.removeSprite(t[n][a].id);e.animationManager.removeSprite("renew_board")})}},{key:"_newBoard",value:function(){var e=this;this.taskManager.addTask(function(){e.board.newBoard(8,8);for(var t=e.board.getBoard(),n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)e._createGem(a,n,t[n][a].type,t[n][a].id)}),this.taskManager.addTask(function(){e.gameInput.enableInput()}),this.taskManager.addTask(function(){e.soundFall.play()})}},{key:"_createGem",value:function(e,t,n,a){var r=e*l["default"].TILE_SIZE,i=(t-l["default"].BOARD_HEIGHT)*l["default"].TILE_SIZE,o=r,u=t*l["default"].TILE_SIZE,s="gem"+n;this.animationManager.addSprite(o,u,s,a),this.animationManager.spriteFallFrom(i,a,225)}}]),e}();n["default"]=_,t.exports=n["default"]},{"./AnimationManager":1,"./GameConstants":3,"./GameInput":4,"./GameUtils":6,"./TaskManager":8,"./m3g/Board":9}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={convertToBoardPosition:function(e,t,n){return{x:Math.floor(e/n),y:Math.floor(t/n)}},convertToViewPosition:function(e,t,n){return{x:e*n,y:t*n}}};n["default"]=a,t.exports=n["default"]},{}],7:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./m3g/Pattern"),i=a(r),o=e("./m3g/Matrix"),u=a(o),s=e("./m3g/BoardUtils"),l=a(s),d=e("./m3g/BoardPatterns"),f=a(d),c=e("./m3g/Board"),h=a(c),p=e("./GameUtils"),v=a(p),g=e("./GameInput"),_=a(g),m=e("./GameScene"),y=a(m),k=e("./TaskManager"),M=a(k),b=e("./AnimationManager"),P=a(b),w=e("./Boot"),T=a(w);n.Pattern=i["default"],n.Matrix=u["default"],n.BoardUtils=l["default"],n.BoardPatterns=f["default"],n.Board=h["default"],n.GameUtils=v["default"],n.GameInput=_["default"],n.GameScene=y["default"],n.TaskManager=M["default"],n.AnimationManager=P["default"],n.Boot=T["default"]},{"./AnimationManager":1,"./Boot":2,"./GameInput":4,"./GameScene":5,"./GameUtils":6,"./TaskManager":8,"./m3g/Board":9,"./m3g/BoardPatterns":10,"./m3g/BoardUtils":11,"./m3g/Matrix":12,"./m3g/Pattern":13}],8:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this._tasks=[]}return r(e,[{key:"addTask",value:function(e){this._tasks.push(e)}},{key:"runTasks",value:function(){var e=this._tasks.splice(0,1);e.length>0&&e[0]()}}]),e}();n["default"]=i,t.exports=n["default"]},{}],9:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./BoardUtils"),u=a(o),s=e("./Matrix"),l=a(s),d=function(){function e(){r(this,e),this._idCounter=0,this._board=null}return i(e,[{key:"newBoard",value:function(e,t){this.resetIdCounter(),this._board=u["default"].createBoard(e,t,this._generatorFunction.bind(this),this._compareFunction,this._isDuplicateFunction,this.resetIdCounter.bind(this))}},{key:"newBoardWithSample",value:function(e){this.resetIdCounter();for(var t=[],n=0,a=[];n<e.length;n++,a=[]){for(var r=0;r<e[n].length;r++)a.push({type:e[n][r],id:this._idCounter++});t.push(a)}this._board=t}},{key:"findMatchedAll",value:function(){return u["default"].findMatchedAll(this._board,this._compareFunction,this._isDuplicateFunction)}},{key:"testSwap",value:function(e,t,n,a){return u["default"].testSwap(this._board,e,t,n,a,this._compareFunction,this._isDuplicateFunction)}},{key:"isNear",value:function(e,t,n,a){return u["default"].isNear(e,t,n,a)}},{key:"swap",value:function(e,t,n,a){return u["default"].swap(this._board,e,t,n,a,this._compareFunction,this._isDuplicateFunction)}},{key:"findPossibleMatch",value:function(){return u["default"].findPossibleMatch(this._board,this._compareFunction,this._isDuplicateFunction)}},{key:"clearMatched",value:function(e){return u["default"].clearMatched(this._board,e,this._toEmptyFunction)}},{key:"triggerGravity",value:function(){return u["default"].triggerGravity(this._board,this._isEmptyFunction)}},{key:"fillEmpty",value:function(){return u["default"].fillEmpty(this._board,this._isEmptyFunction,this._generatorFunction.bind(this))}},{key:"debugPrint",value:function(e,t){u["default"].debugPrint(this._board,e,t)}},{key:"getBoard",value:function(){return this._board}},{key:"getIdCounter",value:function(){return this.idCounter}},{key:"getElementWithXY",value:function(e,t){if(!l["default"].isInBound(this.getBoard(),e,t))return null;var n=this.getBoard();return n[t][e]}},{key:"getElementWithId",value:function(e){for(var t=this.getBoard(),n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)if(t[n][a].id===e)return{x:a,y:n,element:t[n][a]};return null}},{key:"_generatorFunction",value:function(){var t=Math.floor(Math.random()*e.TYPES.length);return{type:e.TYPES[t],id:this._idCounter++}}},{key:"_compareFunction",value:function(e,t){return e.type===t.type}},{key:"_isDuplicateFunction",value:function(e,t){return e.type===t.type&&e.id===t.id}},{key:"_toEmptyFunction",value:function(t){return{type:e.EMPTY,id:-1}}},{key:"_isEmptyFunction",value:function(t){return t.type===e.EMPTY}},{key:"resetIdCounter",value:function(){this._idCounter=0}}],[{key:"PRINT_TYPE",value:function(e){return e.type}},{key:"PRINT_ID",value:function(e){return e.id}},{key:"TYPES",get:function(){return[1,2,3,4,5,6,7,8]}},{key:"EMPTY",get:function(){return 0}}]),e}();n["default"]=d,t.exports=n["default"]},{"./BoardUtils":11,"./Matrix":12}],10:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Matrix"),i=a(r),o=[[1,1,0],[0,0,1]],u=[[1,0,0],[0,1,1]],s=[[1,0,1],[0,1,0]],l=[[1,1,0,1]],d=[[1,0,1,1]],f=i["default"].transpose(o),c=i["default"].transpose(u),h=i["default"].transpose(s),p=i["default"].transpose(l),v=i["default"].transpose(d),g=[{pattern:o,anchorX:0,anchorY:0},{pattern:o,anchorX:0,anchorY:1},{pattern:u,anchorX:0,anchorY:0},{pattern:u,anchorX:0,anchorY:1},{pattern:s,anchorX:0,anchorY:0},{pattern:s,anchorX:0,anchorY:1},{pattern:l,anchorX:0,anchorY:0},{pattern:d,anchorX:0,anchorY:0},{pattern:f,anchorX:0,anchorY:0},{pattern:f,anchorX:1,anchorY:0},{pattern:c,anchorX:0,anchorY:0},{pattern:c,anchorX:1,anchorY:0},{pattern:h,anchorX:0,anchorY:0},{pattern:h,anchorX:1,anchorY:0},{pattern:p,anchorX:0,anchorY:0},{pattern:v,anchorX:0,anchorY:0}];n["default"]=g,t.exports=n["default"]},{"./Matrix":12}],11:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Matrix"),i=a(r),o=e("./Pattern"),u=a(o),s=e("./BoardPatterns"),l=a(s),d={findMatched:function(e,t,n,a,r){function o(e,t,n,a,r,i){if(u(e,t,n,a))switch(i.push({x:t,y:n,element:e[n][t]}),r){case"right":o(e,t+1,n,a,"right",i);break;case"down":o(e,t,n+1,a,"down",i)}}function u(e,t,n,r){return i["default"].isInBound(e,t,n)&&a(r,e[n][t])}var s=e[n][t],l=[],f=[],c=[];return o(e,t,n,s,"right",l),o(e,t,n,s,"down",f),c=l.length>=3?c.concat(l):c,c=f.length>=3?c.concat(f):c,d._removeMatchedDuplicates(c,r)},findMatchedAll:function(e,t,n){for(var a=[],r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=d.findMatched(e,i,r,t,n);a=a.concat(o)}return d._removeMatchedDuplicates(a,n)},testSwap:function(e,t,n,a,r,o,u){if(!i["default"].isInBound(e,t,n)||!i["default"].isInBound(e,a,r))return!1;if(!d.isNear(t,n,a,r))return!1;var s=i["default"].clone(e);i["default"].swap(s,t,n,a,r);var l=d.findMatchedAll(s,o,u);return l.length>=3?l:!1},isNear:function(e,t,n,a){var r=Math.abs(n-e),i=Math.abs(a-t);return r+i===1?!0:!1},swap:function(e,t,n,a,r,o,u){var s=d.testSwap(e,t,n,a,r,o,u);return s&&i["default"].swap(e,t,n,a,r),s},findPossibleMatch:function(e,t,n){for(var a=[],r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)for(var o=0;o<l["default"].length;o++){var s=u["default"].comparePattern(e,i,r,l["default"][o].pattern,l["default"][o].anchorX,l["default"][o].anchorY,t);s&&(a=a.concat(s))}return a=d._removeMatchedDuplicates(a,n)},clearMatched:function(e,t,n){var a=[];return t.forEach(function(t){a.push({x:t.x,y:t.y,element:e[t.y][t.x]}),e[t.y][t.x]=n(t)}),a},triggerGravity:function(e,t){for(var n=[],a=0;a<e[0].length;a++)for(var r=e[a].length-1;r>=0;r--)if(t(e[r][a]))for(var o=r-1;o>=0;o--)if(!t(e[o][a])){n.push({fromX:a,fromY:o,toX:a,toY:r,element:e[o][a]}),i["default"].swap(e,a,r,a,o);break}return n},fillEmpty:function(e,t,n){for(var a=[],r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)t(e[r][i])&&(e[r][i]=n(),a.push({x:i,y:r,element:e[r][i]}));return a},createBoard:function(e,t,n,a,r,o){var u=void 0,s=void 0,l=void 0;do o&&o(),u=i["default"].create(e,t,n),s=d.findMatchedAll(u,a,r),l=d.findPossibleMatch(u,a,r);while(s.length>0||l.length<3);return u},debugPrint:function(e,t,n){for(var a="",r="",i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)if(a+=n(e[i][o])+", ",t){for(var u=void 0,s=0;s<t.length;s++)o===t[s].x&&i===t[s].y&&(u=s);r+=u>=0?n(t[u].element)+", ":" , "}a+="\n",r+="\n"}console.log("board:"),console.log(a),t&&(console.log("matched:"),console.log(r))},_removeMatchedDuplicates:function(e,t){for(var n=[],a=function(a){var r=!1;n.forEach(function(n){return e[a].x===n.x&&e[a].y===n.y&&t(e[a].element,n.element)?void(r=!0):void 0}),r||n.push(e[a])},r=0;r<e.length;r++)a(r);return n}};n["default"]=d,t.exports=n["default"]},{"./BoardPatterns":10,"./Matrix":12,"./Pattern":13}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={transpose:function(e){for(var t=e.length,n=e[0].length,a=[],r=[],i=0;t>i;i++)a=a.concat(e[i]);for(var i=0;n>i;i++){for(var o=[],u=i;void 0!==a[u];)o.push(a[u]),u+=n;o.length>0&&r.push(o)}return r},isInBound:function(e,t,n){var a=e.length,r=e[0].length;return t>=0&&r>t&&n>=0&&a>n?!0:!1},swap:function(e,t,n,a,r){var i=e[r][a];return e[r][a]=e[n][t],e[n][t]=i,{source:{x:t,y:n,type:e[n][t]},target:{x:a,y:r,type:e[r][a]}}},create:function(e,t,n){for(var a=[],r=0,i=[];t>r;r++,i=[]){for(var o=0;e>o;o++)i.push(n());a.push(i)}return a},clone:function r(e){var r=[];return e.forEach(function(e){r.push(e.slice(0))}),r}};n["default"]=a,t.exports=n["default"]},{}],13:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Matrix"),i=a(r),o={makePattern:function(e,t,n){if(!i["default"].isInBound(e,t,n))throw new Error("Anchor is out of bound! "+t+", "+n);for(var a=[],r=e[n][t],o=0,u=0;u<e.length;u++)for(var s=0;s<e[u].length;s++)if(e[u][s]===r){var l=s-t,d=u-n;a.push({x:l,y:d}),o++}return{diff:a,counter:o}},comparePattern:function(e,t,n,a,r,u,s){for(var l=o.makePattern(a,r,u),d=[],f=e[n][t],c=0,h=0;h<l.diff.length;h++){var p=t+l.diff[h].x,v=n+l.diff[h].y;i["default"].isInBound(e,p,v)&&s(f,e[v][p])&&(c++,d.push({x:p,y:v,element:e[v][p]}))}return c===l.counter?d:null}};n["default"]=o,t.exports=n["default"]},{"./Matrix":12}]},{},[7])(7)});