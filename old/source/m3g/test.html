<!DOCTYPE html>
<html>
<head>
	<title>m3g test</title>
</head>
<body>
</body>
<script src="m3g.js"></script>
<script src="Point.js"></script>
<script src="Change.js"></script>
<script src="ActionProcessor.js"></script>
<script src="Action.js"></script>
<script src="Gem.js"></script>
<script src="Board.js"></script>
<script src="BoardAction.js"></script>
<script>
	var b = new m3g.Board();

	console.log(b.toStringBoard());

	// console.log(m3g.BoardAction.hasNoMoreMove(b));
	console.log(m3g.BoardAction.hint(b));

	var r = m3g.BoardAction.actionSwapGems(b,0,5,0,6);
	console.log(r);
	b.applyAction(r);
	console.log(b.toStringBoard());

	// var r = m3g.BoardAction.findMatchedGemsWithCombo(b, 4, 6, 4, m3g.BoardAction.FIND_FILTER_EQUAL);
	// console.log(r);
	// m3g.BoardAction.removeGemsWithList(b, r);
	// console.log(b.toStringBoard());

	var r = m3g.BoardAction.findAllMatchedGemsWithCombo(b, 3, m3g.BoardAction.FIND_FILTER_GREATER_EQUAL);
	while(r.length > 0){
		r = m3g.BoardAction.actionRemoveGemsWithList(r);
		console.log(r);
		b.applyAction(r);
		console.log(b.toStringBoard());

		r = m3g.BoardAction.actionMakeGemsFall(b);
		console.log(r);
		b.applyAction(r);
		console.log(b.toStringBoard());

		r = m3g.BoardAction.actionFillEmptyGems(b);
		console.log(r);
		b.applyAction(r);
		console.log(b.toStringBoard());

		r = m3g.BoardAction.findAllMatchedGemsWithCombo(b, 3, m3g.BoardAction.FIND_FILTER_GREATER_EQUAL);
	}

	// var r = m3g.BoardAction.findAllMatchedGemsWithCombo(b, 3, m3g.BoardAction.FIND_FILTER_GREATER_EQUAL);
	// r = m3g.BoardAction.actionRemoveGemsWithList(r);
	// console.log(r);
	// b.applyAction(r);
	// console.log(b.toStringBoard());

	// r = m3g.BoardAction.actionMakeGemsFall(b);
	// console.log(r);
	// b.applyAction(r);
	// console.log(b.toStringBoard());

	// r = m3g.BoardAction.actionFillEmptyGems(b);
	// console.log(r);
	// b.applyAction(r);
	// console.log(b.toStringBoard());
</script>
</html>